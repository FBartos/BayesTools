<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Fits a 'JAGS' model — JAGS_fit • BayesTools</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Fits a 'JAGS' model — JAGS_fit"><meta property="og:description" content="A wrapper around
run.jags  that simplifies fitting 'JAGS' models
with usage with pre-specified model part of the 'JAGS' syntax, data and list
of prior distributions."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BayesTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.12</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/ComparisonR.html">Comparison to other R packages</a>
    </li>
    <li>
      <a href="../articles/SpikeAndSlab.html">Bayes factors via spike and slab prior vs. bridge sampling</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/FBartos/BayesTools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fits a 'JAGS' model</h1>
    <small class="dont-index">Source: <a href="https://github.com/FBartos/BayesTools/blob/HEAD/R/JAGS-fit.R" class="external-link"><code>R/JAGS-fit.R</code></a></small>
    <div class="hidden name"><code>JAGS_fit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A wrapper around
<a href="https://rdrr.io/pkg/runjags/man/run.jags.html" class="external-link">run.jags</a>  that simplifies fitting 'JAGS' models
with usage with pre-specified model part of the 'JAGS' syntax, data and list
of prior distributions.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">JAGS_fit</span><span class="op">(</span></span>
<span>  <span class="va">model_syntax</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  prior_list <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  formula_list <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  formula_data_list <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  formula_prior_list <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  chains <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  adapt <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  burnin <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  sample <span class="op">=</span> <span class="fl">4000</span>,</span>
<span>  thin <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  autofit <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  autofit_control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>max_Rhat <span class="op">=</span> <span class="fl">1.05</span>, min_ESS <span class="op">=</span> <span class="fl">500</span>, max_error <span class="op">=</span> <span class="fl">0.01</span>, max_SD_error</span>
<span>    <span class="op">=</span> <span class="fl">0.05</span>, max_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fl">60</span>, unit <span class="op">=</span> <span class="st">"mins"</span><span class="op">)</span>, sample_extend <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cores <span class="op">=</span> <span class="va">chains</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  add_parameters <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  required_packages <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>model_syntax</dt>
<dd><p>jags syntax for the model part</p></dd>


<dt>data</dt>
<dd><p>list containing data to fit the model (not including data for the formulas)</p></dd>


<dt>prior_list</dt>
<dd><p>named list of prior distribution
(names correspond to the parameter names) of parameters not specified within the
<code>formula_list</code></p></dd>


<dt>formula_list</dt>
<dd><p>named list of formulas to be added to the model
(names correspond to the parameter name created by each of the formula)</p></dd>


<dt>formula_data_list</dt>
<dd><p>named list of data frames containing data for each formula
(names of the lists correspond to the parameter name created by each of the formula)</p></dd>


<dt>formula_prior_list</dt>
<dd><p>named list of named lists of prior distributions
(names of the lists correspond to the parameter name created by each of the formula and
the names of the prior distribution correspond to the parameter names) of parameters specified
within the <code>formula</code></p></dd>


<dt>chains</dt>
<dd><p>number of chains to be run, defaults to <code>4</code></p></dd>


<dt>adapt</dt>
<dd><p>number of samples used for adapting the MCMC chains, defaults to <code>500</code></p></dd>


<dt>burnin</dt>
<dd><p>number of burnin iterations of the MCMC chains, defaults to <code>1000</code></p></dd>


<dt>sample</dt>
<dd><p>number of sampling iterations of the MCMC chains, defaults to <code>4000</code></p></dd>


<dt>thin</dt>
<dd><p>thinning interval for the MCMC samples, defaults to <code>1</code></p></dd>


<dt>autofit</dt>
<dd><p>whether the models should be refitted until convergence criteria
specified in <code>autofit_control</code>. Defaults to <code>FALSE</code>.</p></dd>


<dt>autofit_control</dt>
<dd><p>a list of arguments controlling the autofit function.
Possible options are:</p><dl><dt>max_Rhat</dt>
<dd><p>maximum R-hat error for the autofit function.
Defaults to <code>1.05</code>.</p></dd>

<dt>min_ESS</dt>
<dd><p>minimum effective sample size. Defaults to <code>500</code>.</p></dd>

<dt>max_error</dt>
<dd><p>maximum MCMC error. Defaults to <code>1.01</code>.</p></dd>

<dt>max_SD_error</dt>
<dd><p>maximum MCMC error as the proportion of standard
deviation of the parameters. Defaults to <code>0.05</code>.</p></dd>

<dt>max_time</dt>
<dd><p>list specifying the time <code>time</code> and <code>units</code>
after which the automatic fitting function is stopped. The units arguments
need to correspond to <code>units</code> passed to <a href="https://rdrr.io/r/base/difftime.html" class="external-link">difftime</a> function.</p></dd>

<dt>sample_extend</dt>
<dd><p>number of samples between each convergence check. Defaults to
<code>1000</code>.</p></dd>


</dl></dd>


<dt>parallel</dt>
<dd><p>whether the chains should be run in parallel <code>FALSE</code></p></dd>


<dt>cores</dt>
<dd><p>number of cores used for multithreading if <code>parallel = TRUE</code>,
defaults to <code>chains</code></p></dd>


<dt>silent</dt>
<dd><p>whether the function should proceed silently, defaults to <code>TRUE</code></p></dd>


<dt>seed</dt>
<dd><p>seed for random number generation</p></dd>


<dt>add_parameters</dt>
<dd><p>vector of additional parameter names that should be used
monitored but were not specified in the <code>prior_list</code></p></dd>


<dt>required_packages</dt>
<dd><p>character vector specifying list of packages containing
JAGS models required for sampling (in case that the function is run in parallel or in
detached R session). Defaults to <code>NULL</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>JAGS_fit</code> returns an object of class 'runjags'.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="JAGS_check_convergence.html">JAGS_check_convergence()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># simulate data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  N <span class="op">=</span> <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span><span class="op">$</span><span class="va">x</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># define priors</span></span></span>
<span class="r-in"><span><span class="va">priors_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mu <span class="op">=</span> <span class="fu"><a href="prior.html">prior</a></span><span class="op">(</span><span class="st">"normal"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># define likelihood for the data</span></span></span>
<span class="r-in"><span><span class="va">model_syntax</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="st">"model{</span></span></span>
<span class="r-in"><span><span class="st">    for(i in 1:N){</span></span></span>
<span class="r-in"><span><span class="st">      x[i] ~ dnorm(mu, 1)</span></span></span>
<span class="r-in"><span><span class="st">    }</span></span></span>
<span class="r-in"><span><span class="st">  }"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># fit the models</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">JAGS_fit</span><span class="op">(</span><span class="va">model_syntax</span>, <span class="va">data</span>, <span class="va">priors_list</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by František Bartoš.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

      </footer></div>

  


  

  </body></html>

